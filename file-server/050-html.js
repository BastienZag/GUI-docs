/***************************************************************************************************************************************************************
 *
 * Compile HTML files
 *
 **************************************************************************************************************************************************************/


//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// Dependencies
//--------------------------------------------------------------------------------------------------------------------------------------------------------------


(function(App) {

	var module = {};

	//------------------------------------------------------------------------------------------------------------------------------------------------------------
	// Module init method
	//------------------------------------------------------------------------------------------------------------------------------------------------------------
	module.init = function() {
		App.debugging( 'HTML: Initiating', 'report' );
	};


	//------------------------------------------------------------------------------------------------------------------------------------------------------------
	// Get all html files
	//------------------------------------------------------------------------------------------------------------------------------------------------------------
	module.get = function() {
		App.debugging( 'HTML: Getting all HTML files', 'report' );

		var index = Fs.readFileSync( App.TEMPPATH + 'index.html', 'utf8');

		index = _.template( index )({
			_hasJS: App.selectedModules.js,
			_hasSVG: App.selectedModules.svg,
			blendURL: App.banner.getFlavourURL(),
			GUIRURL: App.GUIRURL,
		});

		//some logic to remove or add: grunticon code and reference, js

		App.zip.queuing('html', false); //html queue is done
		App.zip.addFile( index, '/GUI-flavour/index.html' );

	};


	App.html = module;


}(App));